[
  {
    "Type": "ComponentTemplate",
    "Payload": {
      "UniqueID": "reactor",
      "Name": "Reactor",
      "Formulas": {
        "Description": "A non refuelable reactor, Generates power for a ship",
        "Mass": "Ability('Mass')",
        "Volume": "Ability('Mass')",
        "HTK": "Max(1, [Mass] / 100)",
        "CrewReq": "[Mass]",
        "ResearchCost": "[Mass] * 0.5",
        "CreditCost": "[Mass]",
        "BuildPointCost": "[Mass]"
      },
      "ResourceCost": {
        "stainless-steel": "[Mass] * 0.5",
        "plastic": "[Mass] * 0.4",
        "copper": "[Mass] * 0.1",
        "fissile-fuels": "Ability('Fuel Consumption') * 3600 * Ability('Lifetime')"
      },
      "ComponentType": "Facility",
      "MountType": "ShipComponent, ShipCargo, Fighter",
      "CargoTypeID": "general-storage",
      "IndustryTypeID": "component-construction",
      "Attributes": [
        {
          "Name": "Mass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the reactor'",
          "GuiHint": "GuiSelectionMaxMin",
          "MaxFormula": "25000",
          "MinFormula": "1000",
          "StepFormula": "1",
          "AttributeFormula": "1500"
        },
        {
          "Name": "Power Output",
          "Units": "Kw",
          "DescriptionFormula": "'in Kw'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "50 * [Mass]"
        },
        {
          "Name": "Fuel Consumption",
          "Units": "kg/s",
          "DescriptionFormula": "'Fuel Consumption kg per second at Max Output'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('Power Output') * 0.0000001"
        },
        {
          "Name": "Lifetime",
          "Units": "s",
          "DescriptionFormula": "'How long this reactor will be useful for'",
          "GuiHint": "GuiSelectionMaxMin",
          "MaxFormula": "87600",
          "MinFormula": "1",
          "StepFormula": "1",
          "AttributeFormula": "8760"
        },
        {
          "Name": "DB",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs('fissile-fuels', Ability('Fuel Consumption'), 'electricity', Ability('Power Output'), Ability('Lifetime'))",
          "AttributeType": "Pulsar4X.Energy.EnergyGenerationAtb"
        },
        {
          "Name": "Sensor Signature",
          "Units": "unknown",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs(1700, Ability('Power Output') * 0.1 * [Mass])",
          "AttributeType": "Pulsar4X.Sensors.SensorSignatureAtb"
        }
      ]
    }
  },
  {
    "Type": "ComponentTemplate",
    "Payload": {
      "UniqueID": "battery-bank",
      "Name": "Battery Bank",
      "Formulas": {
        "Description": "Stores power for a ship",
        "Mass": "Ability('Mass')",
        "Volume": "Ability('Mass')",
        "HTK": "Max(1, [Mass] / 100)",
        "CrewReq": "[Mass]",
        "ResearchCost": "[Mass] * 0.25",
        "CreditCost": "[Mass]",
        "BuildPointCost": "[Mass]"
      },
      "ResourceCost": {
        "plastic": "[Mass] * 0.25",
        "copper": "[Mass] * 0.25",
        "lithium": "[Mass] * 0.5"
      },
      "ComponentType": "Energy Storage",
      "MountType": "ShipComponent, ShipCargo, Fighter",
      "CargoTypeID": "general-storage",
      "IndustryTypeID": "component-construction",
      "Attributes": [
        {
          "Name": "Mass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the bank'",
          "GuiHint": "GuiSelectionMaxMin",
          "MaxFormula": "25000",
          "MinFormula": "1000",
          "StepFormula": "1",
          "AttributeFormula": "1500"
        },
        {
          "Name": "Energy Storage",
          "Units": "KJ",
          "DescriptionFormula": "'Energy capacity of this part'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('Mass') * 500"
        },
        {
          "Name": "DB",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs('electricity', Ability('Energy Storage'))",
          "AttributeType": "Pulsar4X.Energy.EnergyStoreAtb"
        }
      ]
    }
  },
  {
    "Type": "ComponentTemplate",
    "Payload": {
      "UniqueID": "rtg",
      "Name": "RTG",
      "Formulas": {
        "Description": "A non refuelable reactor, Generates power for a ship",
        "Mass": "Ability('Mass')",
        "Volume": "Ability('Mass')",
        "HTK": "Max(1, [Mass] / 100)",
        "CrewReq": "1",
        "ResearchCost": "[Mass] * 0.5",
        "CreditCost": "[Mass]",
        "BuildPointCost": "[Mass]"
      },
      "ResourceCost": {
        "aluminium": "Ability('Structural Material')",
        "fissile-fuels": "Ability('Fuel')",
        "silicon": "Ability('Thermoelectric Materials')",
        "copper": "Ability('Electrics and wiring')"
      },
      "ComponentType": "Energy Generator",
      "MountType": "ShipComponent, ShipCargo, Fighter",
      "CargoTypeID": "general-storage",
      "IndustryTypeID": "component-construction",
      "Attributes": [
        {
          "Name": "Mass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the reactor'",
          "GuiHint": "GuiSelectionMaxMin",
          "MaxFormula": "25000",
          "MinFormula": "25",
          "StepFormula": "1",
          "AttributeFormula": "1000"
        },
        {
          "Name": "Power Output",
          "Units": "Kw",
          "DescriptionFormula": "'Max output of this unit when new, output will degrade over lifetime of the unit'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('Fuel') * Ability('Efficiency') * Ability('Fuel Consumption')"
        },
        {
          "Name": "Fuel Consumption",
          "Units": "kg/s",
          "DescriptionFormula": "'Fuel Consumption kg per second at Max Output'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "0.001 / Ability('Operational Lifetime')"
        },
        {
          "Name": "Operational Lifetime",
          "Units": "years",
          "DescriptionFormula": "'Output vs lifetime'",
          "GuiHint": "GuiSelectionMaxMin",
          "MaxFormula": "25",
          "MinFormula": "1",
          "StepFormula": "1",
          "AttributeFormula": "5"
        },
        {
          "Name": "Efficiency",
          "Units": "percent",
          "DescriptionFormula": "'The efficiency of this RTG to turn heat into electrical power, increased by research'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "TechData('tech-conductors') + 10"
        },
        {
          "Name": "Watt per kg",
          "Units": "Watt",
          "DescriptionFormula": "''",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "(1000 * Ability('Power Output')) / [Mass]"
        },
        {
          "Name": "Structural Material",
          "Units": "kg",
          "DescriptionFormula": "'Structural material amount'",
          "GuiHint": "None",
          "AttributeFormula": "[Mass] * 0.3"
        },
        {
          "Name": "Fuel",
          "Units": "kg",
          "DescriptionFormula": "'Fuel Amount'",
          "GuiHint": "None",
          "AttributeFormula": "[Mass] * 0.5"
        },
        {
          "Name": "Thermoelectric Materials",
          "Units": "kg",
          "DescriptionFormula": "'Amount of Material used for energy conversion'",
          "GuiHint": "None",
          "AttributeFormula": "[Mass] * 0.1"
        },
        {
          "Name": "Electrics and wiring",
          "Units": "kg",
          "DescriptionFormula": "'Structural material amount'",
          "GuiHint": "None",
          "AttributeFormula": "[Mass] * 0.1"
        },
        {
          "Name": "DB",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs(GuidString('fissile-fuels'), Ability('Fuel Consumption'), GuidString('electricity'), Ability('Power Output'), Ability('Operational Lifetime'))",
          "AttributeType": "Pulsar4X.Energy.EnergyGenerationAtb"
        },
        {
          "Name": "Sensor Signature",
          "Units": "unknown",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs(1700, Ability('Power Output') * 0.1 * [Mass])",
          "AttributeType": "Pulsar4X.Sensors.SensorSignatureAtb"
        }
      ]
    }
  },
  {
    "Type": "ComponentTemplate",
    "Payload": {
      "UniqueID": "steam-turbine-reactor",
      "Name": "Steam Turbine Reactor",
      "Formulas": {
        "Description": "A more powerful reactor that heats water to steam and passes it through a turbine",
        "Mass": "Ability('Mass')",
        "Volume": "Ability('Mass') / 1000",
        "HTK": "Max(1, [Mass] / 100)",
        "CrewReq": "3",
        "ResearchCost": "[Mass] * 0.5",
        "CreditCost": "[Mass]",
        "BuildPointCost": "[Mass]"
      },
      "ResourceCost": {
        "stainless-steel": "Ability('CoreMass') * 0.5 + Ability('GennyMass') * 0.2",
        "fissile-fuels": "Ability('FuelMass')",
        "copper": "Ability('CoreMass') * 0.05 + Ability('GennyMass') * 0.2",
        "aluminium": "Ability('CoreMass') * 0.05 + Ability('GennyMass') * 0.2",
        "graphite": "Ability('CoreMass') * 0.15",
        "nickel": "Ability('CoreMass') * 0.005 + Ability('GennyMass') * 0.1",
        "titanium": "Ability('CoreMass') * 0.005",
        "tungsten": "Ability('GennyMass') * 0.05"
        
      },
      "ComponentType": "Energy Generator",
      "MountType": "ShipComponent, ShipCargo, Fighter",
      "CargoTypeID": "general-storage",
      "IndustryTypeID": "component-construction",
      "Attributes": [
        {
          "Name": "Mass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the reactor'",
          "GuiHint": "GuiSelectionMaxMinInt",
          "MaxFormula": "500000",
          "MinFormula": "2000",
          "StepFormula": "1",
          "AttributeFormula": "2000"
        },
        {
          "Name": "Output vs Efficency",
          "Units": "percent",
          "DescriptionFormula": "'Percent of mass taken up by the generator vs the core, larger generator is more efficent but less output'",
          "GuiHint": "GuiSelectionMaxMinInt",
          "MaxFormula": "70",
          "MinFormula": "30",
          "StepFormula": "10",
          "AttributeFormula": "50"
        },
        {
          "Name": "CoreMass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the Core including fuel and shielding'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "[Mass] * Ability('Output vs Efficency') * 0.01"
        },
        {
          "Name": "GennyMass",
          "Units": "kg",
          "DescriptionFormula": "'Mass of the Turbine and generator'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "[Mass] - Ability('CoreMass')"
        },
        {
          "Name": "FuelMass",
          "Units": "kg",
          "DescriptionFormula": "'As a percentage of core mass'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('CoreMass') * 0.6"
        },
        {
          "Name": "Heat per kg",
          "Units": "KW/kg",
          "DescriptionFormula": "'Heat output per kg of fuel'",
          "AttributeFormula": "100"
        },
        {
          "Name": "Core Efficiency",
          "DescriptionFormula": "'Efficiency turning fuel into heat'",
          "AttributeFormula": "1.0"
        },
        {
          "Name": "Generator Efficiency",
          "DescriptionFormula": "'The efficiency of the turbine and generator - TODO this needs linking to tech'",
          "AttributeFormula": "0.8"
        },
        {
          "Name": "Fuel Burn Rate",
          "Units": "",
          "DescriptionFormula": "'Fuel Consumption kg per second at Max Output'",
          "AttributeFormula": "Ability('CoreOutput') / 40e9"
        },
        {
          "Name": "CoreOutput",
          "Units": "KW",
          "DescriptionFormula": "'Heat output of the reactor'",
          "AttributeFormula": "Ability('FuelMass') * Ability('Heat per kg') * Ability('Core Efficiency')"
        },
        {
          "Name": "GeneratorOutput",
          "Units": "KW",
          "DescriptionFormula": "'Electricy output of the generator'",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('CoreOutput') * Ability('Generator Efficiency')"
        },
        {
          "Name": "FuelDuration",
          "Units": "s",
          "DescriptionFormula": "''",
          "GuiHint": "GuiTextDisplay",
          "AttributeFormula": "Ability('FuelMass') / Ability('Fuel Burn Rate')"
        },
        {
          "Name": "DB",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs(GuidString('fissile-fuels'), Ability('Fuel Burn Rate'), GuidString('electricity'), Ability('GeneratorOutput'), Ability('FuelDuration'))",
          "AttributeType": "Pulsar4X.Energy.EnergyGenerationAtb"
        },
        {
          "Name": "Sensor Signature",
          "Units": "unknown",
          "DescriptionFormula": "''",
          "GuiHint": "None",
          "AttributeFormula": "AtbConstrArgs(1700, Ability('CoreOutput'))",
          "AttributeType": "Pulsar4X.Sensors.SensorSignatureAtb"
        }
      ]
    }
  }
]